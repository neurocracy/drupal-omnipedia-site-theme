// -----------------------------------------------------------------------------
//   EU cookie compliance pop-up layout partial
// -----------------------------------------------------------------------------

.eu-cookie-compliance-popup {

  // This compensates for the scrollbar gutter when the pop-up is closing so
  // that the pop-up contents don't shift when the viewport scrollbar appears.
  @include root-conditions(('[dir=ltr]'), 'html') {
    right: calc(var(--scrollbar-gutter, 0) * -1);
  }
  @include root-conditions(('[dir=rtl]'), 'html') {
    left: calc(var(--scrollbar-gutter, 0) * -1);
  }

  html.omnipedia-overlay-open & {
    @include root-conditions(('[dir=ltr]'), 'html') {
      right: 0;
    }
    @include root-conditions(('[dir=rtl]'), 'html') {
      left: 0;
    }
  }

  bottom: 0;

  max-width: none;

  .eu-cookie-compliance-banner {
    max-height: 70vh;

    // Make this scrollable.
    overflow-y: auto;
  }

  .eu-cookie-compliance-content {
    display: block;

    @include layout-max-width;

    padding-left:   $layout-gutter;
    padding-right:  $layout-gutter;

    // This matches ../global/_layout.grid.scss
    @include on-sidebar-beside-content(any) {
      padding-left:   $layout-gap;
      padding-right:  $layout-gap;
    }

    padding-top:    $layout-gutter;
    padding-bottom: $layout-gutter;

    box-sizing: border-box;

    > * + * {
      @include vertical-spacing(
        $spacing-small: $content-item-vertical-spacing-small,
        $spacing-large: $content-item-vertical-spacing-large,
      );
    }

  }

  .eu-cookie-compliance-message {
    max-width: none;

    float: none;
  }

  .eu-cookie-compliance-categories {

    @include use-grid {
      display: grid;

      grid-template-columns: repeat(auto-fit, minmax(20em, 1fr));

      column-gap: 2em;
      row-gap:    1em;
    }

  }

  .eu-cookie-compliance-buttons {
    float: none;

    max-width: none;

    margin-top: 2em;
  }

}
